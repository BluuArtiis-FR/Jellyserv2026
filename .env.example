# =============================================================================
# HOMELAB MEDIA SERVER v5.2.0 - CONFIGURATION PRINCIPALE
# =============================================================================
# Copiez ce fichier vers .env et modifiez les valeurs selon votre installation.
#
# IMPORTANT: Generez tous les secrets avec: openssl rand -hex 32
# =============================================================================

# =============================================================================
# PROFILS - SELECTION DES SERVICES
# =============================================================================
# Listez les profils a activer, separes par une virgule.
#
# PROFILS DISPONIBLES:
# --------------------
# download      - qBittorrent, Prowlarr, Sonarr, Radarr, Lidarr, Readarr, Bazarr, Unpackerr, FlareSolverr, Recyclarr
# media         - Jellyfin, Jellyseerr, Requestrr, Tdarr, Jellystat
# cloud         - Nextcloud, Duplicati, FileBrowser
# office        - OnlyOffice, Stirling-PDF, Jirafeau
# docs          - Bookstack, Paperless-NGX
# security      - Vaultwarden, Tailscale
# recipes       - Mealie
# photos        - Immich (server + ML + DB + Redis)
# finance       - Firefly III
# inventory     - Grocy
# home-automation - Home Assistant
# utils         - FreshRSS, MeTube, Changedetection, Shlink
# management    - Portainer, Code-Server, Dozzle
# network       - AdGuard Home
# remote-support - RustDesk Server
# health-fitness - Wger
# monitoring    - Prometheus, Grafana, Alertmanager, Node-Exporter, cAdvisor, Uptime-Kuma, Watchtower
#
# EXEMPLES:
# ---------
# Stack media de base:
# COMPOSE_PROFILES=media,download
#
# Stack complete:
# COMPOSE_PROFILES=media,download,cloud,office,docs,security,recipes,photos,finance,inventory,home-automation,utils,management,network,monitoring
#
# Selection a la carte:
# COMPOSE_PROFILES=jellyfin,sonarr,prowlarr,qbittorrent,gluetun
#
COMPOSE_PROFILES=media,download

# =============================================================================
# SYSTEME & DOMAINE
# =============================================================================
TZ=Europe/Paris
PUID=1000
PGID=1000

# Votre nom de domaine (ex: monserveur.fr)
DOMAIN=example.com

# Email pour Let's Encrypt (certificats SSL)
ACME_EMAIL=admin@example.com

# =============================================================================
# CHEMINS SUR L'HOTE
# =============================================================================
# Chemins relatifs ou absolus pour le stockage des donnees
CONFIG_PATH=./config
DATA_PATH=./data
DOWNLOADS_PATH=./downloads
MEDIA_PATH=./media
UPLOAD_PATH=./uploads

# =============================================================================
# AUTHENTIK - SSO (Toujours actif)
# =============================================================================
# IMPORTANT: Generez avec: openssl rand -hex 32
AUTHENTIK_SECRET_KEY=CHANGEME_GENERER_AVEC_OPENSSL_RAND_HEX_32
AUTHENTIK_PG_PASS=CHANGEME_GENERER_AVEC_OPENSSL_RAND_HEX_32

# =============================================================================
# VPN - GLUETUN (Profil: download)
# =============================================================================
# Fournisseurs supportes: protonvpn, nordvpn, mullvad, surfshark, etc.
# Voir: https://github.com/qdm12/gluetun-wiki
VPN_SERVICE_PROVIDER=protonvpn
VPN_TYPE=openvpn
OPENVPN_USER=
OPENVPN_PASSWORD=
SERVER_COUNTRIES=Switzerland

# =============================================================================
# MEDIA - Jellyfin & Jellystat (Profil: media)
# =============================================================================
# Optionnel: Cle API Jellyfin pour Jellystat
# A recuperer dans Jellyfin > Dashboard > API Keys
JELLYFIN_API_KEY=

# Jellystat
JELLYSTAT_DB_PASS=CHANGEME_GENERER_AVEC_OPENSSL
JELLYSTAT_JWT_SECRET=CHANGEME_GENERER_AVEC_OPENSSL

# =============================================================================
# DOWNLOAD - *arr Applications (Profil: download)
# =============================================================================
# Cles API pour Unpackerr et Recyclarr (a recuperer dans chaque application)
# Settings > General > API Key
SONARR_API_KEY=
RADARR_API_KEY=
LIDARR_API_KEY=
READARR_API_KEY=

# =============================================================================
# CLOUD - Nextcloud (Profil: cloud)
# =============================================================================
NEXTCLOUD_ADMIN_PASS=CHANGEME_MOT_DE_PASSE_FORT
NEXTCLOUD_DB_PASS=CHANGEME_GENERER_AVEC_OPENSSL

# =============================================================================
# OFFICE - OnlyOffice (Profil: office)
# =============================================================================
# Secret JWT pour la communication securisee avec Nextcloud
ONLYOFFICE_JWT_SECRET=CHANGEME_GENERER_AVEC_OPENSSL

# =============================================================================
# DOCS - Bookstack & Paperless (Profil: docs)
# =============================================================================
# Bookstack
BOOKSTACK_DB_PASS=CHANGEME_GENERER_AVEC_OPENSSL

# Paperless-NGX
PAPERLESS_SECRET_KEY=CHANGEME_GENERER_AVEC_OPENSSL
PAPERLESS_ADMIN_USER=admin
PAPERLESS_ADMIN_PASS=CHANGEME_MOT_DE_PASSE_FORT
PAPERLESS_DB_PASS=CHANGEME_GENERER_AVEC_OPENSSL

# =============================================================================
# SECURITY - Vaultwarden & Tailscale (Profil: security)
# =============================================================================
# Vaultwarden
VAULTWARDEN_SIGNUPS=false
# Token admin (optionnel) - Generez avec: openssl rand -hex 32
VAULTWARDEN_ADMIN_TOKEN=

# Tailscale - Cle d'authentification depuis https://login.tailscale.com/admin/settings/keys
TAILSCALE_AUTHKEY=

# =============================================================================
# PHOTOS - Immich (Profil: photos)
# =============================================================================
IMMICH_DB_PASS=CHANGEME_GENERER_AVEC_OPENSSL

# =============================================================================
# FINANCE - Firefly III (Profil: finance)
# =============================================================================
# Cle d'application - DOIT etre exactement 32 caracteres
# Generez avec: openssl rand -hex 16
FIREFLY_APP_KEY=CHANGEME_GENERER_32_CARACTERES
FIREFLY_DB_PASS=CHANGEME_GENERER_AVEC_OPENSSL

# =============================================================================
# UTILS - Shlink (Profil: utils)
# =============================================================================
SHLINK_DB_PASS=CHANGEME_GENERER_AVEC_OPENSSL
SHLINK_API_KEY=CHANGEME_GENERER_AVEC_OPENSSL
# Optionnel: Licence GeoLite2 pour la geolocalisation
# https://dev.maxmind.com/geoip/geolite2-free-geolocation-data
GEOLITE_LICENSE_KEY=

# =============================================================================
# MANAGEMENT - Code-Server (Profil: management)
# =============================================================================
CODESERVER_PASSWORD=CHANGEME_MOT_DE_PASSE_FORT
CODESERVER_SUDO_PASSWORD=CHANGEME_MOT_DE_PASSE_FORT

# =============================================================================
# HEALTH-FITNESS - Wger (Profil: health-fitness)
# =============================================================================
WGER_SECRET_KEY=CHANGEME_GENERER_AVEC_OPENSSL
WGER_DB_PASS=CHANGEME_GENERER_AVEC_OPENSSL

# =============================================================================
# MONITORING - Grafana (Profil: monitoring)
# =============================================================================
GRAFANA_ADMIN_PASS=CHANGEME_MOT_DE_PASSE_FORT
# Optionnel: OAuth avec Authentik
GRAFANA_OAUTH_CLIENT_ID=
GRAFANA_OAUTH_CLIENT_SECRET=

# =============================================================================
# VARIABLES AVANCEES (Ne pas modifier sauf si necessaire)
# =============================================================================
# Version des images (laisser vide pour 'latest')
# TRAEFIK_VERSION=v3.0
# AUTHENTIK_VERSION=2024.2

# Limites de ressources globales (decommenter pour personnaliser)
# MEMORY_LIMIT_SMALL=256M
# MEMORY_LIMIT_MEDIUM=512M
# MEMORY_LIMIT_LARGE=1G
# MEMORY_LIMIT_XLARGE=2G

# =============================================================================
# URLS DES SERVICES (Reference)
# =============================================================================
# Une fois deploye, vos services seront accessibles sur:
#
# INFRASTRUCTURE:
#   - Traefik Dashboard: https://traefik.${DOMAIN}
#   - Authentik SSO:     https://auth.${DOMAIN}
#
# MEDIA:
#   - Jellyfin:          https://jellyfin.${DOMAIN}
#   - Jellyseerr:        https://requests.${DOMAIN}
#   - Requestrr:         https://requestrr.${DOMAIN}
#   - Tdarr:             https://tdarr.${DOMAIN}
#   - Jellystat:         https://jellystat.${DOMAIN}
#
# DOWNLOAD:
#   - qBittorrent:       http://localhost:8080 (via VPN)
#   - Prowlarr:          https://prowlarr.${DOMAIN}
#   - FlareSolverr:      (interne - http://flaresolverr:8191)
#   - Sonarr:            https://sonarr.${DOMAIN}
#   - Radarr:            https://radarr.${DOMAIN}
#   - Lidarr:            https://lidarr.${DOMAIN}
#   - Readarr:           https://readarr.${DOMAIN}
#   - Bazarr:            https://bazarr.${DOMAIN}
#   - Recyclarr:         (interne - sync TRaSH Guides)
#
# CLOUD:
#   - Nextcloud:         https://nextcloud.${DOMAIN}
#   - Duplicati:         https://backup.${DOMAIN}
#   - FileBrowser:       https://files.${DOMAIN}
#
# OFFICE:
#   - OnlyOffice:        https://office.${DOMAIN}
#   - Stirling PDF:      https://pdf.${DOMAIN}
#   - Jirafeau:          https://share.${DOMAIN}
#
# DOCS:
#   - Bookstack:         https://wiki.${DOMAIN}
#   - Paperless-NGX:     https://paperless.${DOMAIN}
#
# SECURITY:
#   - Vaultwarden:       https://vault.${DOMAIN}
#
# RECIPES:
#   - Mealie:            https://recipes.${DOMAIN}
#
# PHOTOS:
#   - Immich:            https://photos.${DOMAIN}
#
# FINANCE:
#   - Firefly III:       https://finance.${DOMAIN}
#
# INVENTORY:
#   - Grocy:             https://grocy.${DOMAIN}
#
# HOME-AUTOMATION:
#   - Home Assistant:    https://home.${DOMAIN}
#
# UTILS:
#   - FreshRSS:          https://rss.${DOMAIN}
#   - MeTube:            https://metube.${DOMAIN}
#   - Changedetection:   https://changes.${DOMAIN}
#   - Shlink:            https://s.${DOMAIN}
#
# MANAGEMENT:
#   - Portainer:         https://portainer.${DOMAIN}
#   - Code-Server:       https://code.${DOMAIN}
#   - Dozzle:            https://logs.${DOMAIN}
#
# NETWORK:
#   - AdGuard Home:      https://adguard.${DOMAIN}
#
# HEALTH-FITNESS:
#   - Wger:              https://wger.${DOMAIN}
#
# MONITORING:
#   - Prometheus:        https://prometheus.${DOMAIN}
#   - Grafana:           https://grafana.${DOMAIN}
#   - Alertmanager:      https://alerts.${DOMAIN}
#   - Uptime Kuma:       https://status.${DOMAIN}
#   - Watchtower:        (interne - mise a jour auto)
#
# PORTAL:
#   - Homer (Dashboard): https://${DOMAIN}

# =============================================================================
# NOTIFICATIONS (Alertmanager)
# =============================================================================
# Discord webhook pour les alertes (optionnel)
# Créez un webhook dans votre serveur Discord : Paramètres > Intégrations > Webhooks
# DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/xxxxx/xxxxx

# Telegram Bot pour les alertes (optionnel)
# Créez un bot via @BotFather et récupérez le token
# TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
# TELEGRAM_CHAT_ID=-1001234567890

# =============================================================================
# WATCHTOWER - Mise a jour automatique (Profil: monitoring)
# =============================================================================
# Webhook de notification (optionnel - Discord ou autre)
# WATCHTOWER_NOTIFICATION_URL=https://discord.com/api/webhooks/xxxxx/xxxxx
